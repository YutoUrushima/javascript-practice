(()=>{"use strict";window.addEventListener("load",(()=>{gsap.to(window,{duration:.01,scrollTo:{y:0}}),new e}));(new class{constructor(){this.siteTitle=document.querySelector(".header-title")}_headerShow(){gsap.to(this.siteTitle,3,{y:0,delay:1,ease:Power4.easeOut,opacity:1})}})._headerShow();class e{constructor(){this.header=document.querySelector(".js-header"),this.headerContent=document.querySelectorAll(".header-list_item > a"),this.logoImg=document.querySelector(".outview-image"),this.logoImgInview=document.querySelector(".inview-image"),this.kv=document.querySelector(".kv"),this.headerRect=this.header.getBoundingClientRect(),this.kvRect=this.kv.getBoundingClientRect(),this.scrollBool=!1,gsap.set(this.logoImg,{display:"block"}),gsap.set(this.logoImgInview,{display:"none",y:0}),this._BgStart()}_headerBgIn(){gsap.to(this.header,{duration:1.2,ease:Power4.easeOut,backgroundColor:"#fff",boxShadow:"0px 0px 20px #000"}),gsap.to(this.headerContent,{duration:1.2,ease:Power4.easeOut,color:"rgb(223, 86, 86)"}),gsap.to(this.logoImg,{ease:Power4.easeOut,display:"none",onComplete:()=>{gsap.to(this.logoImgInview,{duration:1,ease:Power4.easeOut,display:"block",y:0})}})}_headerBgOut(){gsap.to(this.header,{duration:1.2,ease:Power4.easeOut,backgroundColor:"transparent",boxShadow:"none"}),gsap.to(this.headerContent,{duration:1.2,ease:Power4.easeOut,color:"#fff"}),gsap.to(this.logoImgInview,{display:"none",onComplete:()=>{gsap.to(this.logoImg,{duration:1,ease:Power4.easeOut,display:"block",y:0})}})}_BgStart(){window.addEventListener("scroll",(()=>{let e=this.headerRect.bottom+window.pageYOffset,t=this.kvRect.bottom;e>t&&!this.scrollBool&&(this.scrollBool=!0,this._headerBgIn()),e<t&&this.scrollBool&&(this.scrollBool=!1,this._headerBgOut())}))}}(new class{constructor(){this.kvText=document.querySelector(".kv-text_content"),gsap.set(this.kvText,{y:40,opacity:0})}_kvFadein(){gsap.to(this.kvText,3,{y:0,delay:2,ease:Power2.easeOut,opacity:1})}})._kvFadein();(new class{constructor(){this.kvSlider=document.querySelector(".kv-swiper-container")}_KVinit(){new Swiper(this.kvSlider,{direction:"horizontal",loop:!0,speed:1e3,centeredSlides:!0,effect:"fade",allowTouchMove:!1,disableOnInteraction:!1,autoplay:{delay:7e3,stopOnlastSlide:!1,disableOnInteraction:!1}})}})._KVinit();class t{constructor(e,t,s){this.els=document.querySelectorAll(e);this.cb=t,this.options=Object.assign({root:null,rootMargin:"0px",threshold:0,once:!0},s),this.once=this.options.once,this._init()}_init(){this.io=new IntersectionObserver(function(e,t){e.forEach((e=>{e.isIntersecting?(this.cb(e.target,!0),this.once&&t.unobserve(e.target)):this.cb(e.target,!1)}))}.bind(this),this.options),this.io.POLL_INTERVAL=100,this.els.forEach((e=>this.io.observe(e)))}destroy(){this.io.disconnect()}}new t(".js-scroll",(function(e,t){var s;t&&(s=e,gsap.to(s,{duration:1,opacity:1,delay:.5,ease:Power1.easeOut,y:-20}))}));class s{constructor(e){this.el=e instanceof HTMLElement?e:document.querySelector(e),this.str=this.el.innerHTML.trim().split(""),this._concat(),this.chars=this.el.querySelectorAll(".char")}_concat(){this.el.innerHTML=this.str.reduce(((e,t)=>`${e}<span class="char">${t=t.replace(/\s+/,"&nbsp;")}</span>`),"")}_animationStart(){this.chars.forEach(((e,t)=>{gsap.to(e,{ease:Back.easeOut,delay:.05*t,startAt:{y:"50%",opacity:0},y:"0%",opacity:1})}))}}new t(".js-textAnimation",(function(e,t){if(t){new s(e)._animationStart()}}));(new class{constructor(){this.allSlides=document.querySelector(".all-page-number"),this.currentSlides=document.querySelector(".current-page-number"),this.slides=document.querySelectorAll(".js-carousel"),this.swiper=document.querySelector(".swiper-container"),this.slideBox=[],this.slides.forEach((e=>{this.slideBox.push(e)})),this.allSlides.textContent=this.slideBox.length,this.currentPageNumber=0,this.currentSlides.textContent=1}_contentCarousel(){const e=new Swiper(this.swiper,{direction:"horizontal",loop:!0,speed:600,centeredSlides:!0,slidesPerView:1,spaceBetween:50,breakpoints:{768:{slidesPerView:2}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChange:()=>{this.currentPageNumber!==e.realIndex&&(this.currentPageNumber=e.realIndex),this.currentSlides.textContent=this.currentPageNumber+1}}})}})._contentCarousel();class o{constructor(e){this.el=e,this.trigger=this.el.querySelector(".js-trigger"),this.draw=this.el.querySelector(".js-draw"),this.icon=this.trigger.querySelector(".accordion-trigger_icon"),this.isOpen=!1}_init(){gsap.set(this.draw,{height:0,opacity:0}),this.trigger.addEventListener("click",(()=>{this.isOpen?this._close():this._open()}))}_open(){this.isOpen=!0,gsap.to(this.draw,{opacity:1,height:"auto",duration:.6,ease:Power4.easeOut}),this.trigger.classList.add("open"),this.icon.classList.remove("plus"),this.icon.classList.add("minus")}_close(){this.isOpen=!1,gsap.to(this.draw,{opacity:0,height:0,duration:.6,ease:Power4.easeOut}),this.trigger.classList.remove("open"),this.icon.classList.remove("minus"),this.icon.classList.add("plus")}}Array.from(document.querySelectorAll(".js-accordion"),((e,t)=>{new o(e)._init()}));{const e=960,t=540;let s=new THREE.WebGLRenderer({canvas:document.querySelector("#webglCanvas")});s.setPixelRatio(window.devicePixelRatio),s.setSize(e,t);let o=new THREE.Scene,i=new THREE.PerspectiveCamera(45,e/t);i.position.set(0,0,1e3);let r=new THREE.BoxGeometry(400,400,400),n=new THREE.MeshBasicMaterial({color:65280}),a=new THREE.Mesh(r,n);o.add(a);let l=function(){requestAnimationFrame(l),a.rotation.x+=.01,a.rotation.y+=.01,s.render(o,i)};l();let c=new dat.GUI,h={color:65280,scale:1};c.addColor(h,"color").onChange((function(){a.material.color.set(h.color)})),c.add(h,"scale",1,4).onChange((function(){a.scale.set(h.scale,h.scale,h.scale)})),c.close()}new class{constructor(){this.menuItems=document.querySelectorAll(".tab-menu_item"),this.tabContent=document.querySelectorAll(".tab-content"),this._change()}_change(){this.menuItems.forEach((e=>{e.addEventListener("click",(()=>{this.menuItems.forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),this.tabContent.forEach((e=>{e.classList.remove("active")})),document.getElementById(e.dataset.id).classList.add("active")}))}))}};(new class{constructor(){this.header=document.querySelector(".js-header"),this.headerContent=document.querySelectorAll(".header-list_item > a"),this.logoImg=document.querySelector(".outview-image"),this.logoImgInview=document.querySelector(".inview-image"),this.kv=document.querySelector(".kv"),this.headerRect=this.header.getBoundingClientRect(),this.kvRect=this.kv.getBoundingClientRect(),this.scrollBool=!1,this.el=document.querySelector(".toTop"),gsap.set(this.el,{x:100})}init(){this._asideShow(),this._scrollTop(),this._floatUp()}_asideShow(){window.addEventListener("scroll",(()=>{let e=this.headerRect.bottom+window.pageYOffset,t=this.kvRect.bottom;e>t&&!this.scrollBool&&(this.scrollBool=!0,this._asideIn()),e<t&&this.scrollBool&&(this.scrollBool=!1,this._asideOut())}))}_scrollTop(){this.el.addEventListener("click",(()=>{gsap.to(window,{duration:1,ease:Power3.easeOut,scrollTo:{y:0}})}))}_floatUp(){gsap.to(this.el,{duration:1,y:-5,onComplete:()=>{this._floatDown()}})}_floatDown(){gsap.to(this.el,{duration:1,y:5,onComplete:()=>{this._floatUp()}})}_asideIn(){gsap.to(this.el,{x:0,ease:Power4.easeOut,duration:.4})}_asideOut(){gsap.to(this.el,{x:100,ease:Power4.easeIn,duration:.4})}}).init();new class{constructor(){this.triggers=document.querySelectorAll(".js-anchor"),this.gap=250,this.smoothScroll()}smoothScroll(){this.triggers.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let s=document.getElementById(e.dataset.target).getBoundingClientRect().top+this.gap;gsap.to(window,{scrollTo:{y:s},duration:1.5,ease:Power4.easeOut})}))}))}}})();